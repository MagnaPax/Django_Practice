<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>upform1.html</title>
    <style>
        #wrap{
            margin:auto; width:450px;
            border:1px solid #000000;
        }
    </style>
</head>
<body>
    <div id="wrap">
        <!-- fileupload를 진행할 때는 반드시 enctype="multipart/form-data" -->
        <!-- 속성을 지정해야 하고, 이때 전송방식은 post -->
        <form method="post" id="form1" name="form1" enctype="multipart/form-data">
            <!-- 변조 방지 위해. 소스 보기로 하면 아래같은 암호같은 것으로 바뀌어 있음 -->
            <!-- <input type="hidden" name="csrfmiddlewaretoken" value="vSSzB7XOFgK3eeLk9zzv2vKrlgRWDhDy3MbbBV27QS0WQQvtiUXhkdhS6zfhnJxe"> -->
            {% csrf_token %}
            <p>이미지 등록: </p>
            <p>
                <input type="file" name="file1" id="file1">
            </p>
            <p>
                <input type="button" value="등록" onclick="p_write()">
            </p>
        </form>
    </div>

    <script>의
        <!-- JavaScript -->
        <!-- document객체(웹페이지 그 자체)의 form 객체 name="form1" 에 접근 form 에는 action이 필수. 위에서 없지만 여기서 동적으로 할당  -->
        <!--  submit() 으로 전달      -->
        function p_write(){
            document.form1.action = "upload_success"
            document.form1.submit();
        }
    </script>

</body>
</html>